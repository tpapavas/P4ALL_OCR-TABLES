<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4ALL_OCR-TABLES: P4ALL_OCR-TABLES/vendor/leptonica/include/leptonica/recog.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">P4ALL_OCR-TABLES
   </div>
   <div id="projectbrief">A module that exports scanned documents (image or .pdf files) to .html, recognizing tabular structures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('recog_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle"><div class="title">recog.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="recog_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___recog.html">L_Recog</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___rch.html">L_Rch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___rcha.html">L_Rcha</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___rdid.html">L_Rdid</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9e4d3a6ce37c062060e992418c60a33c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="recog_8h.html#a9e4d3a6ce37c062060e992418c60a33c">RECOG_VERSION_NUMBER</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a9e4d3a6ce37c062060e992418c60a33c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a775b15c59e706c13f8143082c293fe3d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___recog.html">L_Recog</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="recog_8h.html#a775b15c59e706c13f8143082c293fe3d">L_RECOG</a></td></tr>
<tr class="separator:a775b15c59e706c13f8143082c293fe3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36e766f5e1e5d2864f9de3a86e98a04"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___rch.html">L_Rch</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="recog_8h.html#ab36e766f5e1e5d2864f9de3a86e98a04">L_RCH</a></td></tr>
<tr class="separator:ab36e766f5e1e5d2864f9de3a86e98a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f104df2bd6442e9dc25e965409f922"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___rcha.html">L_Rcha</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="recog_8h.html#a79f104df2bd6442e9dc25e965409f922">L_RCHA</a></td></tr>
<tr class="separator:a79f104df2bd6442e9dc25e965409f922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d769a53a49be57618373f7fe27c9e85"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___rdid.html">L_Rdid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="recog_8h.html#a8d769a53a49be57618373f7fe27c9e85">L_RDID</a></td></tr>
<tr class="separator:a8d769a53a49be57618373f7fe27c9e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9a3be2d66956bd67c0b66c32d8b30f17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="recog_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17ac75b3dd43415181ad68d64c563511384">L_UNKNOWN</a> = 0
, <a class="el" href="recog_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a3d60f5cb9f36e4047d2c60cf47c97ec9">L_ARABIC_NUMERALS</a> = 1
, <a class="el" href="recog_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17aa2d7427c003d889bcd48e7d3362476b5">L_LC_ROMAN_NUMERALS</a> = 2
, <a class="el" href="recog_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17ad8c4a0167a76230058bc78e04bbfab94">L_UC_ROMAN_NUMERALS</a> = 3
, <br />
&#160;&#160;<a class="el" href="recog_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a25f8c3d9e580df6bb84ab6ea99abec50">L_LC_ALPHA</a> = 4
, <a class="el" href="recog_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a474a2cb4a1ba751b3480ca9c91a8df34">L_UC_ALPHA</a> = 5
<br />
 }</td></tr>
<tr class="separator:a9a3be2d66956bd67c0b66c32d8b30f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbb833ef0dcc466dd02ee76badaf709"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="recog_8h.html#a2dbb833ef0dcc466dd02ee76badaf709ad20558470d9ea33c2c8fa84ef0a8208f">L_USE_ALL_TEMPLATES</a> = 0
, <a class="el" href="recog_8h.html#a2dbb833ef0dcc466dd02ee76badaf709a84ff52bd67a1874a8f78e401a85566b1">L_USE_AVERAGE_TEMPLATES</a> = 1
 }</td></tr>
<tr class="separator:a2dbb833ef0dcc466dd02ee76badaf709"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre>
    This is a simple utility for training and recognizing individual
    machine-printed text characters.  It is designed to be adapted
    to a particular set of character images; e.g., from a book.

    There are two methods of training the recognizer.  In the most
    simple, a set of bitmaps has been labeled by some means, such
    a generic OCR program.  This is input either one template at a time
    or as a pixa of templates, to a function that creates a recog.
    If in a pixa, the text string label must be embedded in the
    text field of each pix.

    If labeled data is not available, we start with a bootstrap
    recognizer (BSR) that has labeled data from a variety of sources.
    These images are scaled, typically to a fixed height, and then
    fed similarly scaled unlabeled images from the source (e.g., book),
    and the BSR attempts to identify them.  All images that have
    a high enough correlation score with one of the templates in the
    BSR are emitted in a pixa, which now holds unscaled and labeled
    templates from the source.  This is the generator for a book adapted
    recognizer (BAR).

    The pixa should always be thought of as the primary structure.
    It is the generator for the recog, because a recog is built
    from a pixa of unscaled images.

    New image templates can be added to a recog as long as it is
    in training mode.  Once training is finished, to add templates
    it is necessary to extract the generating pixa, add templates
    to that pixa, and make a new recog.  Similarly, we do not
    join two recog; instead, we simply join their generating pixa,
    and make a recog from that.

    To remove outliers from a pixa of labeled pix, make a recog,
    determine the outliers, and generate a new pixa with the
    outliers removed.  The outliers are determined by building
    special templates for each character set that are scaled averages
    of the individual templates.  Then a correlation score is found
    between each template and the averaged templates.  There are
    two implementations; outliers are determined as either:
     (1) a template having a correlation score with its class average
         that is below a threshold, or
     (2) a template having a correlation score with its class average
         that is smaller than the correlation score with the average
         of another class.
    Outliers are removed from the generating pixa.  Scaled averaging
    is only performed for determining outliers and for splitting
    characters; it is never used in a trained recognizer for identifying
    unlabeled samples.

    Two methods using averaged templates are provided for splitting
    touching characters:
     (1) greedy matching
     (2) document image decoding (DID)
    The DID method is the default.  It is about 5x faster and
    possibly more accurate.

    Once a BAR has been made, unlabeled sample images are identified
    by finding the individual template in the BAR with highest
    correlation.  The input images and images in the BAR can be
    represented in two ways:
     (1) as scanned, binarized to 1 bpp
     (2) as a width-normalized outline formed by thinning to a
         skeleton and then dilating by a fixed amount.

    The recog can be serialized to file and read back.  The serialized
    version holds the templates used for correlation (which may have
    been modified by scaling and turning into lines from the unscaled
    templates), plus, for arbitrary character sets, the UTF8
    representation and the lookup table mapping from the character
    representation to index.

    Why do we not use averaged templates for recognition?
    Letterforms can take on significantly different shapes (eg.,
    the letters 'a' and 'g'), and it makes no sense to average these.
    The previous version of this utility allowed multiple recognizers
    to exist, but this is an unnecessary complication if recognition
    is done on all samples instead of on averages.
</pre> </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9e4d3a6ce37c062060e992418c60a33c" name="a9e4d3a6ce37c062060e992418c60a33c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4d3a6ce37c062060e992418c60a33c">&#9670;&nbsp;</a></span>RECOG_VERSION_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RECOG_VERSION_NUMBER&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ab36e766f5e1e5d2864f9de3a86e98a04" name="ab36e766f5e1e5d2864f9de3a86e98a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36e766f5e1e5d2864f9de3a86e98a04">&#9670;&nbsp;</a></span>L_RCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___rch.html">L_Rch</a> <a class="el" href="recog_8h.html#ab36e766f5e1e5d2864f9de3a86e98a04">L_RCH</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a79f104df2bd6442e9dc25e965409f922" name="a79f104df2bd6442e9dc25e965409f922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f104df2bd6442e9dc25e965409f922">&#9670;&nbsp;</a></span>L_RCHA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___rcha.html">L_Rcha</a> <a class="el" href="recog_8h.html#a79f104df2bd6442e9dc25e965409f922">L_RCHA</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8d769a53a49be57618373f7fe27c9e85" name="a8d769a53a49be57618373f7fe27c9e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d769a53a49be57618373f7fe27c9e85">&#9670;&nbsp;</a></span>L_RDID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___rdid.html">L_Rdid</a> <a class="el" href="recog_8h.html#a8d769a53a49be57618373f7fe27c9e85">L_RDID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a775b15c59e706c13f8143082c293fe3d" name="a775b15c59e706c13f8143082c293fe3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a775b15c59e706c13f8143082c293fe3d">&#9670;&nbsp;</a></span>L_RECOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___recog.html">L_Recog</a> <a class="el" href="recog_8h.html#a775b15c59e706c13f8143082c293fe3d">L_RECOG</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9a3be2d66956bd67c0b66c32d8b30f17" name="a9a3be2d66956bd67c0b66c32d8b30f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3be2d66956bd67c0b66c32d8b30f17">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Character Set </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17ac75b3dd43415181ad68d64c563511384" name="a9a3be2d66956bd67c0b66c32d8b30f17ac75b3dd43415181ad68d64c563511384"></a>L_UNKNOWN&#160;</td><td class="fielddoc"><p >character set type is not specified <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17a3d60f5cb9f36e4047d2c60cf47c97ec9" name="a9a3be2d66956bd67c0b66c32d8b30f17a3d60f5cb9f36e4047d2c60cf47c97ec9"></a>L_ARABIC_NUMERALS&#160;</td><td class="fielddoc"><p >10 digits <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17aa2d7427c003d889bcd48e7d3362476b5" name="a9a3be2d66956bd67c0b66c32d8b30f17aa2d7427c003d889bcd48e7d3362476b5"></a>L_LC_ROMAN_NUMERALS&#160;</td><td class="fielddoc"><p >7 lower-case letters (i,v,x,l,c,d,m) <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17ad8c4a0167a76230058bc78e04bbfab94" name="a9a3be2d66956bd67c0b66c32d8b30f17ad8c4a0167a76230058bc78e04bbfab94"></a>L_UC_ROMAN_NUMERALS&#160;</td><td class="fielddoc"><p >7 upper-case letters (I,V,X,L,C,D,M) <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17a25f8c3d9e580df6bb84ab6ea99abec50" name="a9a3be2d66956bd67c0b66c32d8b30f17a25f8c3d9e580df6bb84ab6ea99abec50"></a>L_LC_ALPHA&#160;</td><td class="fielddoc"><p >26 lower-case letters <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a3be2d66956bd67c0b66c32d8b30f17a474a2cb4a1ba751b3480ca9c91a8df34" name="a9a3be2d66956bd67c0b66c32d8b30f17a474a2cb4a1ba751b3480ca9c91a8df34"></a>L_UC_ALPHA&#160;</td><td class="fielddoc"><p >26 upper-case letters <br  />
 </p>
</td></tr>
</table>

</div>
</div>
<a id="a2dbb833ef0dcc466dd02ee76badaf709" name="a2dbb833ef0dcc466dd02ee76badaf709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dbb833ef0dcc466dd02ee76badaf709">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Template Select </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2dbb833ef0dcc466dd02ee76badaf709ad20558470d9ea33c2c8fa84ef0a8208f" name="a2dbb833ef0dcc466dd02ee76badaf709ad20558470d9ea33c2c8fa84ef0a8208f"></a>L_USE_ALL_TEMPLATES&#160;</td><td class="fielddoc"><p >use all templates; default <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="a2dbb833ef0dcc466dd02ee76badaf709a84ff52bd67a1874a8f78e401a85566b1" name="a2dbb833ef0dcc466dd02ee76badaf709a84ff52bd67a1874a8f78e401a85566b1"></a>L_USE_AVERAGE_TEMPLATES&#160;</td><td class="fielddoc"><p >use average templates; special cases <br  />
 </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c6a071715ac2086598574cc8dedc6e16.html">P4ALL_OCR-TABLES</a></li><li class="navelem"><a class="el" href="dir_0e0614d058897752c3f3b15942e52522.html">vendor</a></li><li class="navelem"><a class="el" href="dir_a3bd05f65bdec180ad3650e522ccccd3.html">leptonica</a></li><li class="navelem"><a class="el" href="dir_b520adec55946b588962862c15d273f3.html">include</a></li><li class="navelem"><a class="el" href="dir_1f50342970f6ff5285a1a6b056b03baf.html">leptonica</a></li><li class="navelem"><a class="el" href="recog_8h.html">recog.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
