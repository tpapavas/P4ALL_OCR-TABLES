<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4ALL_OCR-TABLES: P4ALL_OCR-TABLES/vendor/leptonica/include/leptonica/bilateral.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">P4ALL_OCR-TABLES
   </div>
   <div id="projectbrief">A module that exports scanned documents (image or .pdf files) to .html, recognizing tabular structures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bilateral_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">bilateral.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="bilateral_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___bilateral.html">L_Bilateral</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0ab7a933f345732f8402474d31bf7359"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___bilateral.html">L_Bilateral</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bilateral_8h.html#a0ab7a933f345732f8402474d31bf7359">L_BILATERAL</a></td></tr>
<tr class="separator:a0ab7a933f345732f8402474d31bf7359"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre>
 Contains the following struct
     struct <a class="el" href="struct_l___bilateral.html">L_Bilateral</a>


 For a tutorial introduction to bilateral filters, which apply a
 gaussian blur to smooth parts of the image while preserving edges, see
   <a href="http://people.csail.mit.edu/sparis/bf_course/slides/03_definition_bf.pdf">http://people.csail.mit.edu/sparis/bf_course/slides/03_definition_bf.pdf</a>

 We give an implementation of a bilateral filtering algorithm given in:
   "Real-Time O(1) Bilateral Filtering," by Yang, Tan and Ahuja, CVPR 2009
 which is at:
   <a href="http://vision.ai.uiuc.edu/~qyang6/publications/cvpr-09-qingxiong-yang.pdf">http://vision.ai.uiuc.edu/~qyang6/publications/cvpr-09-qingxiong-yang.pdf</a>
 This is based on an earlier algorithm by Sylvain Paris and Fr√©do Durand:
   <a href="http://people.csail.mit.edu/sparis/publi/2006/eccv/">http://people.csail.mit.edu/sparis/publi/2006/eccv/</a>
              Paris_06_Fast_Approximation.pdf

 The kernel of the filter is a product of a spatial gaussian and a
 monotonically decreasing function of the difference in intensity
 between the source pixel and the neighboring pixel.  The intensity
 part of the filter gives higher influence for pixels with intensities
 that are near to the source pixel, and the spatial part of the
 filter gives higher weight to pixels that are near the source pixel.
 This combination smooths in relatively uniform regions, while
 maintaining edges.

 The advantage of the appoach of Yang et al is that it is separable,
 so the computation time is linear in the gaussian filter size.
 Furthermore, it is possible to do much of the computation as a reduced
 scale, which gives a good approximation to the full resolution version
 but greatly speeds it up.

 The bilateral filtered value at x is:

           sum[y in N(x)]: spatial(|y - x|) * range(|I(x) - I(y)|) * I(y)
   I'(x) = --------------------------------------------------------------
           sum[y in N(x)]: spatial(|y - x|) * range(|I(x) - I(y)|)

 where I() is the input image, I'() is the filtered image, N(x) is the
 set of pixels around x in the filter support, and spatial() and <a class="el" href="imgproc__c_8h.html#a7e12f6e5472cdb21ec13ab5365ffd987">range()</a>
 are gaussian functions:
         spatial(x) = exp(-x^2 / (2 * s_s^2))
         range(x) = exp(-x^2 / (2 * s_r^2))
 and s_s and s_r and the standard deviations of the two gaussians.

 Yang et al use a separable approximation to this, by defining a set
 of related but separable functions J(k,x), that we call Principal
 Bilateral Components (PBC):

            sum[y in N(x)]: spatial(|y - x|) * range(|k - I(y)|) * I(y)
   J(k,x) = -----------------------------------------------------------
            sum[y in N(x)]: spatial(|y - x|) * range(|k - I(y)|)

 which are computed quickly for a set of n values k[p], p = 0 ... n-1.
 Then each output pixel is found using a linear interpolation:

   I'(x) = (1 - q) * J(k[p],x) + q * J(k[p+1],x)

 where J(k[p],x) and J(k[p+1],x) are PBC for which
   k[p] &lt;= I(x) and k[p+1] &gt;= I(x), and
   q = (I(x) - k[p]) / (k[p+1] - k[p]).

 We can also subsample I(x), create subsampled versions of J(k,x),
 which are then interpolated between for I'(x).

 We generate 'pixsc', by optionally downscaling the input image
 (using area mapping by the factor 'reduction'), and then adding
 a mirrored border to avoid boundary cases.  This is then used
 to compute 'ncomps' PBCs.

 The 'spatial_stdev' is also downscaled by 'reduction'.  The size
 of the 'spatial' array is 4 * (reduced 'spatial_stdev') + 1.
 The size of the 'range' array is 256.
</pre> </div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a0ab7a933f345732f8402474d31bf7359" name="a0ab7a933f345732f8402474d31bf7359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab7a933f345732f8402474d31bf7359">&#9670;&nbsp;</a></span>L_BILATERAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___bilateral.html">L_Bilateral</a> <a class="el" href="bilateral_8h.html#a0ab7a933f345732f8402474d31bf7359">L_BILATERAL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c6a071715ac2086598574cc8dedc6e16.html">P4ALL_OCR-TABLES</a></li><li class="navelem"><a class="el" href="dir_0e0614d058897752c3f3b15942e52522.html">vendor</a></li><li class="navelem"><a class="el" href="dir_a3bd05f65bdec180ad3650e522ccccd3.html">leptonica</a></li><li class="navelem"><a class="el" href="dir_b520adec55946b588962862c15d273f3.html">include</a></li><li class="navelem"><a class="el" href="dir_1f50342970f6ff5285a1a6b056b03baf.html">leptonica</a></li><li class="navelem"><a class="el" href="bilateral_8h.html">bilateral.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
