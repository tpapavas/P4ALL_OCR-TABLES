<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4ALL_OCR-TABLES: P4ALL_OCR-TABLES/vendor/leptonica/include/leptonica/dewarp.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">P4ALL_OCR-TABLES
   </div>
   <div id="projectbrief">A module that exports scanned documents (image or .pdf files) to .html, recognizing tabular structures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dewarp_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">dewarp.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="dewarp_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___dewarpa.html">L_Dewarpa</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___dewarp.html">L_Dewarp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa4f0d6b80266c79b05f163d1b6870a58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dewarp_8h.html#aa4f0d6b80266c79b05f163d1b6870a58">DEWARP_VERSION_NUMBER</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aa4f0d6b80266c79b05f163d1b6870a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5aa6f4b61f7dfaf86e169161e0b1804d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___dewarpa.html">L_Dewarpa</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dewarp_8h.html#a5aa6f4b61f7dfaf86e169161e0b1804d">L_DEWARPA</a></td></tr>
<tr class="separator:a5aa6f4b61f7dfaf86e169161e0b1804d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636744317dd9abb1d2b4279fde0d6c81"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___dewarp.html">L_Dewarp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dewarp_8h.html#a636744317dd9abb1d2b4279fde0d6c81">L_DEWARP</a></td></tr>
<tr class="separator:a636744317dd9abb1d2b4279fde0d6c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre>
    Data structure to hold arrays and results for generating
    horizontal and vertical disparity arrays based on textlines.
    Each disparity array is two-dimensional.  The vertical disparity
    array gives a vertical displacement, relative to the lowest point
    in the textlines.  The horizontal disparty array gives a horizontal
    displacement, relative to the minimum values (for even pages)
    or maximum values (for odd pages) of the left and right ends of
    full textlines.  Horizontal alignment always involves translations
    away from the book gutter.

    We have intentionally separated the process of building models
    from the rendering process that uses the models.  For any page,
    the building operation either creates an actual model (that is,
    a model with at least the vertical disparity being computed, and
    for which the 'success' flag is set) or fails to create a model.
    However, at rendering time, a page can have one of two different
    types of models.
    (1) A valid model is an actual model that meets the rendering
        constraints, which are limits on model curvature parameters.
        See dewarpaTestForValidModel() for details.
        Valid models are identified by <a class="el" href="allheaders_8h.html#a8d9cc6c4aedec07207f293ab370a1155">dewarpaInsertRefModels()</a>,
        which sets the 'vvalid' and 'hvalid' fields.  Only valid
        models are used for rendering.
    (2) A reference model is used by a page that doesn't have
        a valid model, but has a nearby valid model of the same
        parity (even/odd page) that it can use.  The range in pages
        to search for a valid model is given by the 'maxdist' field.

    At the rendering stage, vertical and horizontal disparities are
    treated differently.  It is somewhat more robust to generate
    vertical disparity models (VDM) than horizontal disparity
    models (HDM). A valid VDM is required for any correction to
    be made; if a valid VDM is not available, just use the input
    image.  Otherwise, assuming it is available, the use of the
    HDM is controlled by two fields: 'useboth' and 'check_columns'.
      (a) With useboth == 0, we use only the VDM.
      (b) With useboth == 1, we require using the VDM and, if a valid
          horizontal disparity model (HDM) is available, we also use it.
      (c) With check_columns == 1, check for multiple columns and if
          true, only use the VDM, even if a valid HDM is available.
          Note that 'check_columns' takes precedence over 'useboth'
          when there is more than 1 column of text.  By default,
          check_columns == 0.

    The 'maxdist' parameter is input when the dewarpa is created.
    The other rendering parameters have default values given in dewarp1.c.
    All parameters used by rendering can be set (or reset) using accessors.

    After dewarping, use of the VDM will cause all points on each
    altered curve to have a y-value equal to the minimum.  Use of
    the HDA will cause the left and right edges of the textlines
    to be vertically aligned if they had been typeset flush-left
    and flush-right, respectively.

    The sampled disparity arrays are expanded to full resolution,
    using linear interpolation, and this is further expanded
    by slope continuation to the right and below if the image
    is larger than the full resolution disparity arrays.  Then
    the disparity correction can be applied to the input image.
    If the input pix are 2x reduced, the expansion from sampled
    to full res uses the product of (sampling) * (redfactor).

    The most accurate results are produced at full resolution, and
    this is generally recommended.
</pre> </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa4f0d6b80266c79b05f163d1b6870a58" name="aa4f0d6b80266c79b05f163d1b6870a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f0d6b80266c79b05f163d1b6870a58">&#9670;&nbsp;</a></span>DEWARP_VERSION_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEWARP_VERSION_NUMBER&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Dewarp version for serialization </p><pre>
Note on versioning of the serialization of this data structure:
The dewarping utility and the stored data can be expected to change.
In most situations, the serialized version is ephemeral -- it is
not needed after being used.  No functions will be provided to
convert between different versions.
</pre> 
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a636744317dd9abb1d2b4279fde0d6c81" name="a636744317dd9abb1d2b4279fde0d6c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636744317dd9abb1d2b4279fde0d6c81">&#9670;&nbsp;</a></span>L_DEWARP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___dewarp.html">L_Dewarp</a> <a class="el" href="dewarp_8h.html#a636744317dd9abb1d2b4279fde0d6c81">L_DEWARP</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5aa6f4b61f7dfaf86e169161e0b1804d" name="a5aa6f4b61f7dfaf86e169161e0b1804d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa6f4b61f7dfaf86e169161e0b1804d">&#9670;&nbsp;</a></span>L_DEWARPA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___dewarpa.html">L_Dewarpa</a> <a class="el" href="dewarp_8h.html#a5aa6f4b61f7dfaf86e169161e0b1804d">L_DEWARPA</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c6a071715ac2086598574cc8dedc6e16.html">P4ALL_OCR-TABLES</a></li><li class="navelem"><a class="el" href="dir_0e0614d058897752c3f3b15942e52522.html">vendor</a></li><li class="navelem"><a class="el" href="dir_a3bd05f65bdec180ad3650e522ccccd3.html">leptonica</a></li><li class="navelem"><a class="el" href="dir_b520adec55946b588962862c15d273f3.html">include</a></li><li class="navelem"><a class="el" href="dir_1f50342970f6ff5285a1a6b056b03baf.html">leptonica</a></li><li class="navelem"><a class="el" href="dewarp_8h.html">dewarp.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
